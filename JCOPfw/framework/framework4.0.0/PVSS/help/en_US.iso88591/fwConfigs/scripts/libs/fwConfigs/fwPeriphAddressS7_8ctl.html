<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>fwPeriphAddressS7.ctl File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>fwPeriphAddressS7.ctl File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This library contains function associated with S7 addressing. Functions are provided to set, get and delete the addressing for a dpe<p>
<dl compact><dt><b>Creation Date</b></dt><dd>24/04/05</dd></dl>
<dl compact><dt><b>Modification History</b></dt><dd>E. Blanco AB/CO IS</dd></dl>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Public</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>Enrique BLANCO (AB-CO)</dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a17" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_delete"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">_fwPeriphAddressS7_delete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>dpe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dyn_string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>exceptionInfo</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete the S7 addressing Note: This function should not be called directly. Call the fwPeriphAddress_delete instead.<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dpe</em>&nbsp;</td><td>input, data point element to configure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptionInfo</em>&nbsp;</td><td>output, details of any exceptions are returned here </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_encodeAddress"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string _fwPeriphAddressS7_encodeAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Encode the S7 address Note: This function encodes the S7 address introduced by the user in several fields of the fwPeriphAddressS7.pnl<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pa</em>&nbsp;</td><td>output, correct address S7 type. i.e.: "DB100.DBX200.1" </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_get"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">_fwPeriphAddressS7_get           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>dpe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dyn_anytype &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>addressConfig</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>isActive</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dyn_string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>exceptionInfo</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the S7 addressing Note: This function should not be called directly. Call the fwPeriphAddress_get instead.<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dpe</em>&nbsp;</td><td>input, data point element to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addressConfig</em>&nbsp;</td><td>output, object containing address configuration details </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>configExists</em>&nbsp;</td><td>output, TRUE is addressing is active, else FALSE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptionInfo</em>&nbsp;</td><td>output, details of any exceptions are returned here </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_getDir"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int _fwPeriphAddressS7_getDir           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>directionModeS7</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>receiveMode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the S7 IO mode Note: This function gets the IO mode from the user selection in the _fwPeriphAddressS7.pnl. new constants are defined to the In/out modes<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>directionMode</em>&nbsp;</td><td>input, direction mode (Output, Input, Input/Output) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>receiveMode</em>&nbsp;</td><td>input, type mode (TSPP, Polling, Single Query) </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_getTransfo"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int _fwPeriphAddressS7_getTransfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Recuperate transformation type Note: This function recuperates the selected trasnforamtion type selected by the user in several fields of the fwPeriphAddressS7.pnl<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>default</em>&nbsp;</td><td>output, transformation type: i.e.: "701 --&gt; int 16" </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_initPanel"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">_fwPeriphAddressS7_initPanel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>dpe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dyn_string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>exceptionInfo</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialise the graphics of the address panel symbol. Note: This function should only be called from fwPeriphAddres.pnl.<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dpe</em>&nbsp;</td><td>input, data point element to configure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptionInfo</em>&nbsp;</td><td>output, details of any exceptions are returned here </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_set"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">_fwPeriphAddressS7_set           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>dpe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dyn_anytype&nbsp;</td>
          <td class="mdname" nowrap> <em>addressConfig</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dyn_string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>exceptionInfo</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the S7 addressing Note: This function should not be called directly. Call the fwPeriphAddress_set instead.<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dpe</em>&nbsp;</td><td>input, data point element to configure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addressConfig</em>&nbsp;</td><td>input, object containing address configuration details </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptionInfo</em>&nbsp;</td><td>output, details of any exceptions are returned here </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_setIOMode"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">_fwPeriphAddressS7_setIOMode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>im</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>string&nbsp;</td>
          <td class="mdname" nowrap> <em>sSystemName</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the S7 IO mode Note: This function sets the IO mode from the user selection. There is the case "1" which is also used to set up the INPUT mode when user introduce an PLC peripherial INPUT from the address field.<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>io</em>&nbsp;</td><td>input, direction mode (Output, Input, Input/Output) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>im</em>&nbsp;</td><td>input, type mode (TSPP, Polling, Single Query)</td></tr>
  </table>
</dl>
<p>
!!pollgroup     </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="fwPeriphAddressS7.ctl::_fwPeriphAddressS7_setValuesFromRef"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string _fwPeriphAddressS7_setValuesFromRef           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>reference</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>string&nbsp;</td>
          <td class="mdname" nowrap> <em>sSystemName</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set S7 panel values Note: This function fills the panel fields in funciton of the REFERENCE selected by the user in several fields of the fwPeriphAddressS7.pnl<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Internal</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reference</em>&nbsp;</td><td>input, user introduced reference </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>default</em>&nbsp;</td><td>output, encoded S7 address </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="fwPeriphAddressS7.ctl::fwPeriphAddress_checkS7Parameters"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fwPeriphAddress_checkS7Parameters           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">dyn_string&nbsp;</td>
          <td class="mdname" nowrap> <em>dsParameters</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dyn_string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>exceptionInfo</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if data is Ok to set a S7 address<p>
<dl compact><dt><b>Constraints</b></dt><dd>None</dd></dl>
<dl compact><dt><b>Usage</b></dt><dd>Public</dd></dl>
<dl compact><dt><b>PVSS managers</b></dt><dd>VISION, CTRL</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dsParameters</em>&nbsp;</td><td>parameters used to set the _address config (see constants definition) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptionInfo</em>&nbsp;</td><td>for any error. If a parameter is incorrect, exceptionInfo is not empty ! </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Dec 20 13:30:58 2007 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
